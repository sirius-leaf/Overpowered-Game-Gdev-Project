{
  "associatedLayout": "Untitled scene",
  "name": "LevelsEvent",
  "events": [
    {
      "folded": true,
      "type": "BuiltinCommonInstructions::Standard",
      "conditions": [
        {
          "type": {
            "value": "DepartScene"
          },
          "parameters": [
            ""
          ]
        }
      ],
      "actions": [
        {
          "type": {
            "value": "BuiltinExternalLayouts::CreateObjectsFromExternalLayout"
          },
          "parameters": [
            "",
            "\"GameUI\"",
            "0",
            "0",
            "0"
          ]
        },
        {
          "type": {
            "value": "CentreCamera"
          },
          "parameters": [
            "",
            "Player",
            "",
            "",
            ""
          ]
        },
        {
          "type": {
            "value": "ZoomCamera"
          },
          "parameters": [
            "",
            "0.6",
            "",
            ""
          ]
        },
        {
          "type": {
            "value": "ScalableCapability::ScalableBehavior::SetValue"
          },
          "parameters": [
            "PlayerCharge",
            "Scale",
            "=",
            "0.00001"
          ]
        },
        {
          "type": {
            "value": "ChangePlan"
          },
          "parameters": [
            "DepotEnergy",
            "=",
            "-3"
          ]
        },
        {
          "type": {
            "value": "ChangePlan"
          },
          "parameters": [
            "Depot",
            "=",
            "-4"
          ]
        },
        {
          "type": {
            "value": "Cache"
          },
          "parameters": [
            "WorldBorder"
          ]
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::Index"
              },
              "parameters": [
                "Turret",
                "Animation",
                "=",
                "1"
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "FireBullet::FireBullet::SetCooldownOp"
              },
              "parameters": [
                "Turret",
                "FireBullet",
                "=",
                "2.5",
                ""
              ]
            }
          ]
        }
      ]
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Player",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"UI\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "RotateTowardPosition"
              },
              "parameters": [
                "Player",
                "CursorX()",
                "CursorY()",
                "Player.RotateSpeed",
                ""
              ]
            }
          ],
          "events": [
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "folded": true,
              "name": "Control",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "\"w\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "TopDownMovementBehavior::SimulateUpKey"
                      },
                      "parameters": [
                        "Player",
                        "TopDownMovement"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "\"a\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "TopDownMovementBehavior::SimulateLeftKey"
                      },
                      "parameters": [
                        "Player",
                        "TopDownMovement"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "\"s\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "TopDownMovementBehavior::SimulateDownKey"
                      },
                      "parameters": [
                        "Player",
                        "TopDownMovement"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "\"d\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "TopDownMovementBehavior::SimulateRightKey"
                      },
                      "parameters": [
                        "Player",
                        "TopDownMovement"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "KeyFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "\"r\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Scene"
                      },
                      "parameters": [
                        "",
                        "CurrentSceneName()",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "MouseButtonFromTextPressed"
                      },
                      "parameters": [
                        "",
                        "\"Left\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "MettreXY"
                      },
                      "parameters": [
                        "PlayerChargeParticle",
                        "=",
                        "Player.X()",
                        "=",
                        "Player.Y()"
                      ]
                    },
                    {
                      "type": {
                        "value": "MettreXY"
                      },
                      "parameters": [
                        "PlayerCharge",
                        "=",
                        "Player.X()",
                        "=",
                        "Player.Y()"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetCameraAngle"
                      },
                      "parameters": [
                        "",
                        "=",
                        "Player.CamShake[0] / 80 * Player.Tween::Value(\"CamShake\")",
                        "",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetLayerEffectParameter"
                      },
                      "parameters": [
                        "",
                        "",
                        "\"ZoomBlur\"",
                        "\"strength\"",
                        "Player.Tween::Value(\"CamShake\") * 0.6"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetLayerEffectParameter"
                      },
                      "parameters": [
                        "",
                        "\"GroundTile\"",
                        "\"ZoomBlur\"",
                        "\"strength\"",
                        "Player.Tween::Value(\"CamShake\") * 0.6"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetLayerEffectParameter"
                      },
                      "parameters": [
                        "",
                        "",
                        "\"Adjustment\"",
                        "\"brightness\"",
                        "Player.Tween::Value(\"CamShake\") * 2 + 1"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Create"
                          },
                          "parameters": [
                            "",
                            "PlayerChargeParticle",
                            "Player.X()",
                            "Player.Y()",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "ChangePlan"
                          },
                          "parameters": [
                            "PlayerChargeParticle",
                            "=",
                            "-3"
                          ]
                        },
                        {
                          "type": {
                            "value": "ResetTimer"
                          },
                          "parameters": [
                            "",
                            "\"FireDelay\""
                          ]
                        },
                        {
                          "type": {
                            "value": "Tween::TweenBehavior::AddObjectVariableTween3"
                          },
                          "parameters": [
                            "Player",
                            "Tween",
                            "\"OpenWing\"",
                            "WingRotationOffset",
                            "30",
                            "\"easeOutExpo\"",
                            "1",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Tween::TweenBehavior::AddObjectValueTween"
                          },
                          "parameters": [
                            "Player",
                            "Tween",
                            "\"CamZoom\"",
                            "Player.Tween::Value(\"CamZoom\")",
                            "0.2",
                            "\"linear\"",
                            "2",
                            "",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Tween::TweenBehavior::AddObjectScaleTween3"
                          },
                          "parameters": [
                            "PlayerCharge",
                            "Tween",
                            "\"Charge\"",
                            "1",
                            "\"easeOutExpo\"",
                            "1",
                            "",
                            "no"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CompareTimer"
                          },
                          "parameters": [
                            "",
                            "\"FireDelay\"",
                            ">=",
                            "2"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "FireBullet::FireBullet::Fire"
                          },
                          "parameters": [
                            "Player",
                            "FireBullet",
                            "Player.X()",
                            "Player.Y()",
                            "Bullet",
                            "Player.Angle()",
                            "3000",
                            "3000"
                          ]
                        },
                        {
                          "type": {
                            "value": "ResetTimer"
                          },
                          "parameters": [
                            "",
                            "\"FireDelay\""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CompareTimer"
                          },
                          "parameters": [
                            "",
                            "\"FireDelay\"",
                            "<=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Tween::TweenBehavior::AddObjectValueTween"
                          },
                          "parameters": [
                            "Player",
                            "Tween",
                            "\"CamShake\"",
                            "0",
                            "1",
                            "\"easeInSine\"",
                            "2",
                            "",
                            ""
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "MouseButtonFromTextReleased"
                      },
                      "parameters": [
                        "",
                        "\"Left\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "RemoveTimer"
                      },
                      "parameters": [
                        "",
                        "\"FireDelay\""
                      ]
                    },
                    {
                      "type": {
                        "value": "Tween::StopTween"
                      },
                      "parameters": [
                        "Player",
                        "Tween",
                        "\"CamShake\"",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Tween::TweenBehavior::AddObjectVariableTween3"
                      },
                      "parameters": [
                        "Player",
                        "Tween",
                        "\"OpenWing\"",
                        "WingRotationOffset",
                        "0",
                        "\"easeOutExpo\"",
                        "1",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Tween::TweenBehavior::AddObjectScaleTween3"
                      },
                      "parameters": [
                        "PlayerCharge",
                        "Tween",
                        "\"Charge\"",
                        "0.00001",
                        "\"easeOutSine\"",
                        "1",
                        "",
                        "yes"
                      ]
                    },
                    {
                      "type": {
                        "value": "Tween::TweenBehavior::AddObjectValueTween"
                      },
                      "parameters": [
                        "Player",
                        "Tween",
                        "\"CamZoom\"",
                        "Player.Tween::Value(\"CamZoom\")",
                        "0",
                        "\"easeOutExpo\"",
                        "0.5",
                        "",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "Player",
                        "CamShake[0]",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetNumberObjectVariable"
                      },
                      "parameters": [
                        "Player",
                        "CamShake[1]",
                        "=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetCameraAngle"
                      },
                      "parameters": [
                        "",
                        "=",
                        "0",
                        "",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetLayerEffectParameter"
                      },
                      "parameters": [
                        "",
                        "",
                        "\"ZoomBlur\"",
                        "\"strength\"",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetLayerEffectParameter"
                      },
                      "parameters": [
                        "",
                        "\"GroundTile\"",
                        "\"ZoomBlur\"",
                        "\"strength\"",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetLayerEffectParameter"
                      },
                      "parameters": [
                        "",
                        "",
                        "\"Adjustment\"",
                        "\"brightness\"",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "Delete"
                      },
                      "parameters": [
                        "PlayerChargeParticle",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": []
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "NumberObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "Health",
                    "<=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Cache"
                  },
                  "parameters": [
                    "PlayerGroup"
                  ]
                },
                {
                  "type": {
                    "value": "Tween::TweenBehavior::AddObjectValueTween"
                  },
                  "parameters": [
                    "Player",
                    "Tween",
                    "\"CamShake\"",
                    "2.5",
                    "0",
                    "\"easeOutSine\"",
                    "1",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Create"
                  },
                  "parameters": [
                    "",
                    "ExplosionParticle",
                    "Player.X()",
                    "Player.Y()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"UI\""
                  ]
                },
                {
                  "type": {
                    "value": "Wait"
                  },
                  "parameters": [
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "EndGameTitle",
                    "Text",
                    "=",
                    "\"Mission Failed\""
                  ]
                },
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "FailReason",
                    "Text",
                    "=",
                    "\"You have been destroyed by the enemy\""
                  ]
                },
                {
                  "type": {
                    "value": "ShowLayer"
                  },
                  "parameters": [
                    "",
                    "\"End Game UI\""
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Tween::IsPlaying"
              },
              "parameters": [
                "Player",
                "Tween",
                "\"CamShake\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetNumberObjectVariable"
              },
              "parameters": [
                "Player",
                "CamShake[0]",
                "=",
                "cos(TimeFromStart() * 40.4494897427) * ShakeStrength * Player.Tween::Value(\"CamShake\")"
              ]
            },
            {
              "type": {
                "value": "SetNumberObjectVariable"
              },
              "parameters": [
                "Player",
                "CamShake[1]",
                "=",
                "sin(TimeFromStart() * 80.4142135623) * ShakeStrength * Player.Tween::Value(\"CamShake\")"
              ]
            }
          ],
          "variables": [
            {
              "name": "ShakeStrength",
              "type": "number",
              "value": 70
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanVariable"
              },
              "parameters": [
                "DepotDestroyed",
                "True",
                ""
              ]
            },
            {
              "type": {
                "inverted": true,
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"UI\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "PlayerCharge",
                ""
              ]
            },
            {
              "type": {
                "value": "Delete"
              },
              "parameters": [
                "PlayerChargeParticle",
                ""
              ]
            }
          ]
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "folded": true,
          "name": "Wings",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetAngle"
                  },
                  "parameters": [
                    "PlayerWingLeft",
                    "=",
                    "Player.Angle() - Player.WingRotationOffset"
                  ]
                },
                {
                  "type": {
                    "value": "SetAngle"
                  },
                  "parameters": [
                    "PlayerWingRight",
                    "=",
                    "Player.Angle() + Player.WingRotationOffset"
                  ]
                },
                {
                  "type": {
                    "value": "MettreXY"
                  },
                  "parameters": [
                    "PlayerWingLeft",
                    "=",
                    "Player.PointX(\"WingLeft\")",
                    "=",
                    "Player.PointY(\"WingLeft\")"
                  ]
                },
                {
                  "type": {
                    "value": "MettreXY"
                  },
                  "parameters": [
                    "PlayerWingRight",
                    "=",
                    "Player.PointX(\"WingRight\")",
                    "=",
                    "Player.PointY(\"WingRight\")"
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SeparateFromObjects"
              },
              "parameters": [
                "Player",
                "Walls",
                ""
              ]
            },
            {
              "type": {
                "value": "AddForceAL"
              },
              "parameters": [
                "Player",
                "Player.Recoil.angle",
                "Player.Tween::Value(\"Force\")",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "EnemyProjectile",
                    "Player",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "Health",
                    "-",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "EnemyProjectile",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "FireBullet::FireBullet::HasJustFired"
                  },
                  "parameters": [
                    "Player",
                    "FireBullet",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "Recoil.angle",
                    "=",
                    "Player.Angle() + 180"
                  ]
                },
                {
                  "type": {
                    "value": "Tween::TweenBehavior::AddObjectValueTween"
                  },
                  "parameters": [
                    "Player",
                    "Tween",
                    "\"Force\"",
                    "2000",
                    "0",
                    "\"linear\"",
                    "0.5",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Create"
                  },
                  "parameters": [
                    "",
                    "PlayerShootParticle",
                    "Player.X()",
                    "Player.Y()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetAngle"
                  },
                  "parameters": [
                    "PlayerShootParticle",
                    "=",
                    "Player.Angle()"
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Camera",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BooleanVariable"
                  },
                  "parameters": [
                    "IsIntro",
                    "True",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::CompareNumbers"
                      },
                      "parameters": [
                        "TimeFromStart()",
                        ">=",
                        "1"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCameraCenterY"
                      },
                      "parameters": [
                        "",
                        "-",
                        "600 * TimeDelta()",
                        "",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "CameraCenterY"
                          },
                          "parameters": [
                            "",
                            "<=",
                            "IntroMaxY - 600",
                            "",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "KeyFromTextReleased"
                          },
                          "parameters": [
                            "",
                            "\"Space\""
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetCameraCenterY"
                      },
                      "parameters": [
                        "",
                        "=",
                        "0",
                        "",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "ZoomCamera"
                      },
                      "parameters": [
                        "",
                        "1",
                        "",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SetBooleanVariable"
                      },
                      "parameters": [
                        "IsIntro",
                        "False",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "HideLayer"
                      },
                      "parameters": [
                        "",
                        "\"Intro UI\""
                      ]
                    },
                    {
                      "type": {
                        "value": "ShowLayer"
                      },
                      "parameters": [
                        "",
                        "\"UI\""
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BooleanVariable"
                  },
                  "parameters": [
                    "IsIntro",
                    "=",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BooleanVariable"
                  },
                  "parameters": [
                    "DepotDestroyed",
                    "=",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetCameraCenterX"
                  },
                  "parameters": [
                    "",
                    "=",
                    "lerp(Player.X() / 2 + Player.CamShake[0], CameraCenterX(), exp(-LerpDecay* TimeDelta()))",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetCameraCenterY"
                  },
                  "parameters": [
                    "",
                    "=",
                    "lerp(min(Player.Y() + Player.CamShake[1], 0), CameraCenterY(), exp(-LerpDecay* TimeDelta()))",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ZoomCamera"
                  },
                  "parameters": [
                    "",
                    "1 + Player.Tween::Value(\"CamZoom\")",
                    "",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BooleanVariable"
                  },
                  "parameters": [
                    "DepotDestroyed",
                    "True",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetCameraCenterX"
                  },
                  "parameters": [
                    "",
                    "=",
                    "lerp(DepotDestructionPos[0], CameraCenterX(), exp(-LerpDecay * TimeDelta()))",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetCameraCenterY"
                  },
                  "parameters": [
                    "",
                    "=",
                    "lerp(DepotDestructionPos[1], CameraCenterY(), exp(-LerpDecay * TimeDelta()))",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ZoomCamera"
                  },
                  "parameters": [
                    "",
                    "1",
                    "",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetCameraCenterX"
                  },
                  "parameters": [
                    "",
                    "=",
                    "mod(CameraCenterX(), 128)",
                    "\"GroundTile\"",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetCameraCenterY"
                  },
                  "parameters": [
                    "",
                    "=",
                    "mod(CameraCenterY(), 128)",
                    "\"GroundTile\"",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ZoomCamera"
                  },
                  "parameters": [
                    "",
                    "CameraZoom()",
                    "\"GroundTile\"",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetCameraAngle"
                  },
                  "parameters": [
                    "",
                    "=",
                    "CameraAngle()",
                    "\"GroundTile\"",
                    ""
                  ]
                }
              ]
            }
          ],
          "variables": [
            {
              "name": "LerpDecay",
              "type": "number",
              "value": 3
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Turret",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "Turret",
                "CanRotate",
                "True",
                ""
              ]
            },
            {
              "type": {
                "value": "Distance"
              },
              "parameters": [
                "Turret",
                "Player",
                "1500",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "RotateTowardPosition"
              },
              "parameters": [
                "Turret",
                "Player.X()",
                "Player.Y()",
                "Player.RotateSpeed",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Distance"
                  },
                  "parameters": [
                    "Turret",
                    "Player",
                    "1000",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Index"
                      },
                      "parameters": [
                        "Turret",
                        "Animation",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "FireBullet::FireBullet::Fire"
                      },
                      "parameters": [
                        "Turret",
                        "FireBullet",
                        "Turret.PointX(\"Bullet\")",
                        "Turret.PointY(\"Bullet\")",
                        "TurretBullet",
                        "Turret.Angle()",
                        "1000",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Index"
                      },
                      "parameters": [
                        "Turret",
                        "Animation",
                        "=",
                        "1"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "FireBullet::FireBullet::Fire"
                      },
                      "parameters": [
                        "Turret",
                        "FireBullet",
                        "Turret.X()",
                        "Turret.Y()",
                        "TurretRocket",
                        "Turret.Angle()",
                        "0",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Index"
                      },
                      "parameters": [
                        "Turret",
                        "Animation",
                        "=",
                        "2"
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "ResetObjectTimer"
                          },
                          "parameters": [
                            "Turret",
                            "\"FireDelay\""
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CompareObjectTimer"
                          },
                          "parameters": [
                            "Turret",
                            "\"FireDelay\"",
                            ">=",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetBooleanObjectVariable"
                          },
                          "parameters": [
                            "Turret",
                            "CanRotate",
                            "False",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Wait"
                          },
                          "parameters": [
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetBooleanObjectVariable"
                          },
                          "parameters": [
                            "Turret",
                            "ShootLaser",
                            "True",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Wait"
                          },
                          "parameters": [
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetBooleanObjectVariable"
                          },
                          "parameters": [
                            "Turret",
                            "CanRotate",
                            "True",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "SetBooleanObjectVariable"
                          },
                          "parameters": [
                            "Turret",
                            "ShootLaser",
                            "False",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "ResetObjectTimer"
                          },
                          "parameters": [
                            "Turret",
                            "\"FireDelay\""
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "Turret",
                "ShootLaser",
                "True",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Tween::TweenBehavior::AddObjectValueTween"
                  },
                  "parameters": [
                    "TurretLaserPainter",
                    "Tween",
                    "\"LaserThickness\"",
                    "16",
                    "0",
                    "\"easeInCubic\"",
                    "1",
                    "no",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "PrimitiveDrawing::LineV2"
                  },
                  "parameters": [
                    "TurretLaserPainter",
                    "Turret.X()",
                    "Turret.Y()",
                    "Turret.X() + cos(ToRad(Turret.Angle())) * LaserDistance",
                    "Turret.Y() + sin(ToRad(Turret.Angle())) * LaserDistance",
                    "TurretLaserPainter.Tween::Value(\"LaserThickness\")"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Raycast"
                  },
                  "parameters": [
                    "Player",
                    "Turret.X()",
                    "Turret.Y()",
                    "Turret.Angle()",
                    "LaserDistance",
                    "CollisionPos[0]",
                    "CollisionPos[1]",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "Health",
                    "-",
                    "2"
                  ]
                }
              ]
            }
          ],
          "variables": [
            {
              "name": "LaserDistance",
              "type": "number",
              "value": 5000
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Bullet",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "SetNumberObjectVariable"
              },
              "parameters": [
                "Bullet",
                "LifeTime",
                "-",
                "TimeDelta()"
              ]
            },
            {
              "type": {
                "value": "SetNumberObjectVariable"
              },
              "parameters": [
                "EnemyProjectile",
                "LifeTime",
                "-",
                "TimeDelta()"
              ]
            },
            {
              "type": {
                "value": "RotateTowardPosition"
              },
              "parameters": [
                "TurretRocket",
                "Player.X()",
                "Player.Y()",
                "30",
                ""
              ]
            },
            {
              "type": {
                "value": "RotateTowardPosition"
              },
              "parameters": [
                "EnemyRocket",
                "Player.X()",
                "Player.Y()",
                "30",
                ""
              ]
            },
            {
              "type": {
                "value": "AddForceAL"
              },
              "parameters": [
                "TurretRocket",
                "TurretRocket.Angle()",
                "500",
                ""
              ]
            },
            {
              "type": {
                "value": "AddForceAL"
              },
              "parameters": [
                "EnemyRocket",
                "EnemyRocket.Angle()",
                "500",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "Bullet",
                    "EnemyObject",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "Bullet",
                    "CollisionAmount"
                  ]
                },
                {
                  "type": {
                    "value": "Create"
                  },
                  "parameters": [
                    "",
                    "ExplosionParticle",
                    "EnemyObject.X()",
                    "EnemyObject.Y()",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "EnemyObject",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "NumberObjectVariable"
                      },
                      "parameters": [
                        "Bullet",
                        "LifeTime",
                        "<=",
                        "0"
                      ]
                    },
                    {
                      "type": {
                        "value": "CollisionNP"
                      },
                      "parameters": [
                        "Bullet",
                        "ReinforcedWall",
                        "",
                        "",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "Bullet",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "NumberObjectVariable"
                  },
                  "parameters": [
                    "EnemyProjectile",
                    "LifeTime",
                    "<=",
                    "0"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "EnemyProjectile",
                    ""
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Mine Bomb",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Distance"
              },
              "parameters": [
                "MineBomb",
                "Player",
                "300",
                ""
              ]
            },
            {
              "type": {
                "value": "BuiltinCommonInstructions::Once"
              },
              "parameters": []
            }
          ],
          "actions": [
            {
              "type": {
                "value": "AnimatableCapability::AnimatableBehavior::SetIndex"
              },
              "parameters": [
                "MineBomb",
                "Animation",
                "=",
                "1"
              ]
            },
            {
              "type": {
                "value": "Wait"
              },
              "parameters": [
                "1"
              ]
            },
            {
              "type": {
                "value": "Create"
              },
              "parameters": [
                "",
                "MineExplosionParticle",
                "MineBomb.X()",
                "MineBomb.Y()",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Distance"
                  },
                  "parameters": [
                    "MineBomb",
                    "Player",
                    "300",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberVariable"
                  },
                  "parameters": [
                    "ExplosionForce",
                    "=",
                    "1 - pow((300 - MineBomb.Distance(Player)) / 300 - 1, 6)"
                  ]
                },
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "Health",
                    "-",
                    "round(ExplosionForce * 5)"
                  ]
                },
                {
                  "type": {
                    "value": "Tween::TweenBehavior::AddObjectValueTween"
                  },
                  "parameters": [
                    "Player",
                    "Tween",
                    "\"Force\"",
                    "ExplosionForce * 2000",
                    "0",
                    "\"linear\"",
                    "0.5",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "Recoil.angle",
                    "=",
                    "MineBomb.AngleToObject(Player)"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "MineBomb",
                    ""
                  ]
                }
              ]
            }
          ],
          "variables": [
            {
              "name": "ExplosionForce",
              "type": "number",
              "value": 0
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "Enemy",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "Distance"
              },
              "parameters": [
                "Enemy",
                "Player",
                "1500",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "RotateTowardPosition"
              },
              "parameters": [
                "Enemy",
                "Player.X()",
                "Player.Y()",
                "Enemy.RotateSpeed",
                ""
              ]
            },
            {
              "type": {
                "value": "SeparateFromObjects"
              },
              "parameters": [
                "Enemy",
                "Enemy",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "Distance"
                  },
                  "parameters": [
                    "Enemy",
                    "Player",
                    "400",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "AddForceAL"
                  },
                  "parameters": [
                    "Enemy",
                    "Enemy.Angle()",
                    "Enemy.MoveSpeed * clamp((Enemy.Distance(Player) - 400) / 50, 0, 1)",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Raycast"
                  },
                  "parameters": [
                    "Player",
                    "Enemy.X()",
                    "Enemy.Y()",
                    "Enemy.Angle()",
                    "5000",
                    "CollisionPos[0]",
                    "CollisionPos[1]",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Index"
                      },
                      "parameters": [
                        "Enemy",
                        "Animation",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "FireBullet::FireBullet::Fire"
                      },
                      "parameters": [
                        "Enemy",
                        "FireBullet",
                        "Enemy.PointX(\"Bullet\")",
                        "Enemy.PointY(\"Bullet\")",
                        "EnemyBullet",
                        "Enemy.Angle()",
                        "500",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "AnimatableCapability::AnimatableBehavior::Index"
                      },
                      "parameters": [
                        "Enemy",
                        "Animation",
                        "=",
                        "1"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "FireBullet::FireBullet::Fire"
                      },
                      "parameters": [
                        "Enemy",
                        "FireBullet",
                        "Enemy.X()",
                        "Enemy.Y()",
                        "EnemyRocket",
                        "Enemy.Angle()",
                        "0",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "name": "Depot",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "Rotate"
              },
              "parameters": [
                "DepotEnergy",
                "90 + DepotEnergy.Tween::Value(\"Spin\")",
                ""
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LayerVisible"
                  },
                  "parameters": [
                    "",
                    "\"UI\""
                  ]
                },
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "Bullet",
                    "",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetBooleanVariable"
                  },
                  "parameters": [
                    "DepotDestroyed",
                    "True",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "SetNumberVariable"
                  },
                  "parameters": [
                    "DepotDestructionPos[0]",
                    "=",
                    "DepotEnergy.X()"
                  ]
                },
                {
                  "type": {
                    "value": "SetNumberVariable"
                  },
                  "parameters": [
                    "DepotDestructionPos[1]",
                    "=",
                    "DepotEnergy.Y()"
                  ]
                },
                {
                  "type": {
                    "value": "SetLayerEffectParameter"
                  },
                  "parameters": [
                    "",
                    "",
                    "\"Adjustment\"",
                    "\"saturation\"",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "SetLayerEffectParameter"
                  },
                  "parameters": [
                    "",
                    "\"GroundTile\"",
                    "\"Adjustment\"",
                    "\"saturation\"",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "DepotEnergy",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "Bullet",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"UI\""
                  ]
                },
                {
                  "type": {
                    "value": "Wait"
                  },
                  "parameters": [
                    "2"
                  ]
                },
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "EndGameTitle",
                    "Text",
                    "=",
                    "\"Mission Failed\""
                  ]
                },
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "FailReason",
                    "Text",
                    "=",
                    "\"You destroyed the depot\""
                  ]
                },
                {
                  "type": {
                    "value": "ShowLayer"
                  },
                  "parameters": [
                    "",
                    "\"End Game UI\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "PlayerGroup",
                    "",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Tween::TweenBehavior::AddObjectValueTween"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "Tween",
                    "\"Spin\"",
                    "DepotEnergy.Tween::Value(\"Spin\")",
                    "720",
                    "\"linear\"",
                    "2",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ResetObjectTimer"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "\"Collect\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "PlayerGroup",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Tween::TweenBehavior::AddObjectValueTween"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "Tween",
                    "\"Spin\"",
                    "DepotEnergy.Tween::Value(\"Spin\")",
                    "0",
                    "\"easeOutExpo\"",
                    "1",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "RemoveObjectTimer"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "\"Collect\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "PlayerGroup",
                    "",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "CompareObjectTimer"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "\"Collect\"",
                    ">=",
                    "2"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberVariable"
                  },
                  "parameters": [
                    "DepotCollected",
                    "+",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "SetNumberObjectVariable"
                  },
                  "parameters": [
                    "Player",
                    "Health",
                    "+",
                    "ceil((25 - Player.Health) * 0.7)"
                  ]
                },
                {
                  "type": {
                    "value": "RemoveObjectTimer"
                  },
                  "parameters": [
                    "DepotEnergy",
                    "\"Collect\""
                  ]
                },
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "DepotEnergy",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "NumberVariable"
                  },
                  "parameters": [
                    "DepotCollected",
                    ">=",
                    "5"
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"UI\""
                  ]
                },
                {
                  "type": {
                    "value": "Wait"
                  },
                  "parameters": [
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "TextContainerCapability::TextContainerBehavior::SetValue"
                  },
                  "parameters": [
                    "EndGameTitle",
                    "Text",
                    "=",
                    "\"Mission Complete\""
                  ]
                },
                {
                  "type": {
                    "value": "ShowLayer"
                  },
                  "parameters": [
                    "",
                    "\"End Game UI\""
                  ]
                }
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "World Border",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "WorldBorder",
                "IsHorizontalBorder",
                "True",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MettreX"
              },
              "parameters": [
                "WorldBorder",
                "=",
                "Player.X()"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanObjectVariable"
              },
              "parameters": [
                "WorldBorder",
                "IsHorizontalBorder",
                "False",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "MettreY"
              },
              "parameters": [
                "WorldBorder",
                "=",
                "Player.Y()"
              ]
            }
          ]
        }
      ],
      "parameters": []
    },
    {
      "colorB": 228,
      "colorG": 176,
      "colorR": 74,
      "creationTime": 0,
      "folded": true,
      "name": "UI",
      "source": "",
      "type": "BuiltinCommonInstructions::Group",
      "events": [
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "SourisSurObjet"
                  },
                  "parameters": [
                    "GameButton",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ScalableCapability::ScalableBehavior::SetValue"
                  },
                  "parameters": [
                    "GameButton",
                    "Scale",
                    "=",
                    "lerp(1.2, GameButton.Scale::Value(), exp(-LerpDecay * TimeDelta()))"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "inverted": true,
                    "value": "SourisSurObjet"
                  },
                  "parameters": [
                    "GameButton",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ScalableCapability::ScalableBehavior::SetValue"
                  },
                  "parameters": [
                    "GameButton",
                    "Scale",
                    "=",
                    "lerp(1, GameButton.Scale::Value(), exp(-LerpDecay * TimeDelta()))"
                  ]
                }
              ]
            }
          ],
          "variables": [
            {
              "name": "LerpDecay",
              "type": "number",
              "value": 10
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"Pause UI\""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "KeyFromTextReleased"
                      },
                      "parameters": [
                        "",
                        "\"Escape\""
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::And"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "MouseButtonFromTextReleased"
                          },
                          "parameters": [
                            "",
                            "\"Left\""
                          ]
                        },
                        {
                          "type": {
                            "value": "SourisSurObjet"
                          },
                          "parameters": [
                            "Resume",
                            "",
                            "",
                            ""
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"Pause UI\""
                  ]
                },
                {
                  "type": {
                    "value": "ShowLayer"
                  },
                  "parameters": [
                    "",
                    "\"UI\""
                  ]
                },
                {
                  "type": {
                    "value": "SetBooleanVariable"
                  },
                  "parameters": [
                    "Pause",
                    "True",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ChangeTimeScale"
                  },
                  "parameters": [
                    "",
                    "1"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "MouseButtonFromTextReleased"
                  },
                  "parameters": [
                    "",
                    "\"Left\""
                  ]
                },
                {
                  "type": {
                    "value": "SourisSurObjet"
                  },
                  "parameters": [
                    "ExitMission",
                    "",
                    "",
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetNumberVariable"
                  },
                  "parameters": [
                    "MainMenuCamY",
                    "=",
                    "360"
                  ]
                },
                {
                  "type": {
                    "value": "Scene"
                  },
                  "parameters": [
                    "",
                    "\"Main Menu\"",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ChangeTimeScale"
                  },
                  "parameters": [
                    "",
                    "1"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"UI\""
              ]
            },
            {
              "type": {
                "value": "BooleanVariable"
              },
              "parameters": [
                "Pause",
                "=",
                ""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "KeyFromTextReleased"
                      },
                      "parameters": [
                        "",
                        "\"Escape\""
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::And"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "MouseButtonFromTextReleased"
                          },
                          "parameters": [
                            "",
                            "\"Left\""
                          ]
                        },
                        {
                          "type": {
                            "value": "SourisSurObjet"
                          },
                          "parameters": [
                            "PauseButton",
                            "",
                            "",
                            ""
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "HideLayer"
                  },
                  "parameters": [
                    "",
                    "\"UI\""
                  ]
                },
                {
                  "type": {
                    "value": "ShowLayer"
                  },
                  "parameters": [
                    "",
                    "\"Pause UI\""
                  ]
                },
                {
                  "type": {
                    "value": "ChangeTimeScale"
                  },
                  "parameters": [
                    "",
                    "0"
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "BooleanVariable"
              },
              "parameters": [
                "Pause",
                "True",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "SetBooleanVariable"
              },
              "parameters": [
                "Pause",
                "False",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "MouseButtonFromTextReleased"
              },
              "parameters": [
                "",
                "\"Left\""
              ]
            }
          ],
          "actions": [],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "LayerVisible"
                  },
                  "parameters": [
                    "",
                    "\"End Game UI\""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SourisSurObjet"
                      },
                      "parameters": [
                        "Restart",
                        "",
                        "",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "Scene"
                      },
                      "parameters": [
                        "",
                        "CurrentSceneName()",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SourisSurObjet"
                      },
                      "parameters": [
                        "EndMission",
                        "",
                        "",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetNumberVariable"
                      },
                      "parameters": [
                        "MainMenuCamY",
                        "=",
                        "-360"
                      ]
                    },
                    {
                      "type": {
                        "value": "Scene"
                      },
                      "parameters": [
                        "",
                        "\"Main Menu\"",
                        ""
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"UI\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "PanelSpriteContinuousBar::PanelSpriteContinuousBar::SetValue"
              },
              "parameters": [
                "PlayerHealth",
                "=",
                "Player.Health",
                ""
              ]
            },
            {
              "type": {
                "value": "PanelSpriteContinuousBar::PanelSpriteContinuousBar::SetValue"
              },
              "parameters": [
                "SavedDepot",
                "=",
                "DepotCollected",
                ""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"End Game UI\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ChangeLayer"
              },
              "parameters": [
                "BlackScreen",
                "\"End Game UI\""
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "LayerVisible"
              },
              "parameters": [
                "",
                "\"Pause UI\""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ChangeLayer"
              },
              "parameters": [
                "BlackScreen",
                "\"Pause UI\""
              ]
            }
          ]
        }
      ],
      "parameters": []
    }
  ]
}